//var assert = require('assert');
var fs = require('fs');

var cv = require("../build/Release/cloudcv");

function detectCornersOnChessboard(imageName, assert) {

    var imageData = fs.readFile(imageName, function(err, imageData) {
        assert.isNotNull(imageData);

        cv.calibrationPatternDetect(imageData, 9, 6, 0, function(error, result) {

            assert.isNull(error);
            assert.isNotNull(result);

            //assert.equal(true, result.patternFound);

            console.log(imageName + (result.patternFound ? " - ok" : " - false"));

            //console.log('GRID pattern ' + imageName);
            //console.log(result);
        });  

    });
}

function detectCornersOnCircles(imageName, assert) {

    var imageData = fs.readFile(imageName, function(err, imageData) {
        assert.isNotNull(imageData);

        cv.calibrationPatternDetect(imageData, 8, 9, 1, function(error, result) {

            assert.isNull(error);
            assert.isNotNull(result);

            console.log(imageName + (result.patternFound ? " - ok" : " - false"));

            //assert.equal(true, result.patternFound);

            //console.log('ACircles pattern ' + imageName);
            //console.log(result);
        });  

    });
}

function detectCornersOnACircles(imageName, rows, cols, assert) {

    var imageData = fs.readFile(imageName, function(err, imageData) {
        assert.isNotNull(imageData);

        cv.calibrationPatternDetect(imageData, rows, cols, 2, function(error, result) {

            assert.isNull(error);
            assert.isNotNull(result);

            console.log(imageName + (result.patternFound ? " - ok" : " - false"));

            //assert.equal(true, result.patternFound);

            //console.log('ACircles pattern ' + imageName);
            //console.log(result);
        });  

    });
}

//exports["grid-pattern.png"]     = function(beforeExit, assert) { detectCornersOnChessboard("test/grid-pattern.png", assert); } 
//exports["circles_pattern.jpg"]  = function(beforeExit, assert) { detectCornersOnCircles("test/circles_pattern.jpg", assert); } 

exports["acircles_pattern1"] = function(beforeExit, assert) { detectCornersOnACircles("test/acircles1.png", 13, 7, assert); } 
exports["acircles_pattern2"] = function(beforeExit, assert) { detectCornersOnACircles("test/acircles1.png", 7, 13, assert); } 

//exports["acircles_pattern2"] = function(beforeExit, assert) { detectCornersOnACircles("test/acircles_pattern.png", 11, 4, assert); } 
//exports["acircles_pattern3"] = function(beforeExit, assert) { detectCornersOnACircles("test/acircles_pattern.png", 4, 6, assert); } 
//exports["acircles_pattern4"] = function(beforeExit, assert) { detectCornersOnACircles("test/acircles_pattern.png", 6, 4, assert); } 

/*
exports['Detect chessboard'] = function(beforeExit, assert) {

    var images = [
        "test/calibration/grid_01.jpg",
        "test/calibration/grid_02.jpg",
        "test/calibration/grid_03.jpg",
        "test/calibration/grid_04.jpg",
        "test/calibration/grid_05.jpg",
        "test/calibration/grid_06.jpg",
        "test/calibration/grid_07.jpg",
        "test/calibration/grid_08.jpg",
        "test/calibration/grid_09.jpg",
        "test/calibration/grid_10.jpg",
        "test/calibration/grid_11.jpg",
    ];

    for (var i = 0; i < images.length; i++)
    {
        var src = images[i];
        detectCornersOnChessboard(src, assert);
    }
};
/**/
/*
exports['Detect circles'] = function(beforeExit, assert) {

    var imageData = fs.readFileSync("test/circles_pattern.jpg");
    assert.isNotNull(imageData);

    cv.calibrationPatternDetect(imageData, 8, 9, 1, function(error, result) {

        console.log('CIRCLES pattern');
        console.log(result);

        assert.isNull(error);
        assert.isNotNull(result);
        assert.equal(true, result.patternFound);

    });

};
/**/


/*
exports["test/calibration_2/grid_01.png"] = function(beforeExit, assert) { detectCornersOnACircles("test/calibration_2/grid_01.png", assert); }
exports["test/calibration_2/grid_02.png"] = function(beforeExit, assert) { detectCornersOnACircles("test/calibration_2/grid_02.png", assert); }
exports["test/calibration_2/grid_03.png"] = function(beforeExit, assert) { detectCornersOnACircles("test/calibration_2/grid_03.png", assert); }
exports["test/calibration_2/grid_04.png"] = function(beforeExit, assert) { detectCornersOnACircles("test/calibration_2/grid_04.png", assert); }
exports["test/calibration_2/grid_05.png"] = function(beforeExit, assert) { detectCornersOnACircles("test/calibration_2/grid_05.png", assert); }
exports["test/calibration_2/grid_06.png"] = function(beforeExit, assert) { detectCornersOnACircles("test/calibration_2/grid_06.png", assert); }
exports["test/calibration_2/grid_07.png"] = function(beforeExit, assert) { detectCornersOnACircles("test/calibration_2/grid_07.png", assert); }
exports["test/calibration_2/grid_08.png"] = function(beforeExit, assert) { detectCornersOnACircles("test/calibration_2/grid_08.png", assert); }
exports["test/calibration_2/grid_09.png"] = function(beforeExit, assert) { detectCornersOnACircles("test/calibration_2/grid_09.png", assert); }
exports["test/calibration_2/grid_10.png"] = function(beforeExit, assert) { detectCornersOnACircles("test/calibration_2/grid_10.png", assert); }
*/

/**/

exports['Compute K'] = function(beforeExit, assert) {

    var inputCorners = [
       [ { x: 2813.10302734375, y: 1155.8758544921875 },
         { x: 2651.735595703125, y: 1224.1375732421875 },
         { x: 2480.420166015625, y: 1295.7774658203125 },
         { x: 2301.044677734375, y: 1373.5521240234375 },
         { x: 2113.58544921875, y: 1455.9993896484375 },
         { x: 1920.56591796875, y: 1541.3836669921875 },
         { x: 1715.6815185546875, y: 1630.9019775390625 },
         { x: 1504.152099609375, y: 1721.862548828125 },
         { x: 1280.933349609375, y: 1821.2576904296875 },
         { x: 2678.081787109375, y: 1024.019287109375 },
         { x: 2516.8076171875, y: 1091.4071044921875 },
         { x: 2348.69287109375, y: 1161.4246826171875 },
         { x: 2172.661376953125, y: 1233.70068359375 },
         { x: 1990.48291015625, y: 1312.606689453125 },
         { x: 1801.963623046875, y: 1392.5986328125 },
         { x: 1603.6827392578125, y: 1474.7098388671875 },
         { x: 1398.5096435546875, y: 1563.6517333984375 },
         { x: 1182.845947265625, y: 1653.8863525390625 },
         { x: 2549.52294921875, y: 906.5162353515625 },
         { x: 2390.72314453125, y: 974.4097290039062 },
         { x: 2225.546630859375, y: 1040.1571044921875 },
         { x: 2054.106201171875, y: 1111.452880859375 },
         { x: 1876.0396728515625, y: 1183.406982421875 },
         { x: 1693.4522705078125, y: 1252.2489013671875 },
         { x: 1500.111328125, y: 1327.47021484375 },
         { x: 1300.232177734375, y: 1409.1153564453125 },
         { x: 1091.324951171875, y: 1494.980712890625 },
         { x: 2427.129638671875, y: 807.5247192382812 },
         { x: 2272.328125, y: 865.6864013671875 },
         { x: 2110.916259765625, y: 928.4031372070312 },
         { x: 1943.4512939453125, y: 992.7052001953125 },
         { x: 1770.427490234375, y: 1058.2760009765625 },
         { x: 1591.6361083984375, y: 1123.1243896484375 },
         { x: 1403.7591552734375, y: 1193.6763916015625 },
         { x: 1209.1339111328125, y: 1269.668212890625 },
         { x: 1005.9255981445312, y: 1346.4703369140625 },
         { x: 2315.15673828125, y: 703.4940795898438 },
         { x: 2162.7333984375, y: 760.0352783203125 },
         { x: 2004.7943115234375, y: 817.6778564453125 },
         { x: 1841.2491455078125, y: 875.8287353515625 },
         { x: 1671.8931884765625, y: 934.2510375976562 },
         { x: 1497.3087158203125, y: 999.1244506835938 },
         { x: 1314.3902587890625, y: 1067.4716796875 },
         { x: 1124.3970947265625, y: 1137.531982421875 },
         { x: 926.7960815429688, y: 1210.494140625 },
         { x: 2209.17529296875, y: 606.903564453125 },
         { x: 2060.331787109375, y: 655.416015625 },
         { x: 1905.5408935546875, y: 714.478515625 },
         { x: 1744.804931640625, y: 772.32080078125 },
         { x: 1579.7430419921875, y: 827.5776977539062 },
         { x: 1409.1768798828125, y: 886.578125 },
         { x: 1229.9737548828125, y: 945.751953125 },
         { x: 1044.92626953125, y: 1013.3936767578125 },
         { x: 853.1051635742188, y: 1079.7159423828125 } ],

       [ { x: 1318.5181884765625, y: 1892.5302734375 },
         { x: 1289.83447265625, y: 1702.5977783203125 },
         { x: 1264.6861572265625, y: 1535.2391357421875 },
         { x: 1242.75244140625, y: 1387.6365966796875 },
         { x: 1223.1455078125, y: 1256.7783203125 },
         { x: 1204.779296875, y: 1138.469482421875 },
         { x: 1188.15185546875, y: 1027.3892822265625 },
         { x: 1172.069091796875, y: 921.800048828125 },
         { x: 1157.5775146484375, y: 826.5528564453125 },
         { x: 1584.94580078125, y: 1838.393310546875 },
         { x: 1543.422119140625, y: 1662.1798095703125 },
         { x: 1504.589111328125, y: 1501.5316162109375 },
         { x: 1471.1004638671875, y: 1358.0277099609375 },
         { x: 1440.3280029296875, y: 1232.161376953125 },
         { x: 1412.702392578125, y: 1116.4630126953125 },
         { x: 1386.426025390625, y: 1005.4116821289062 },
         { x: 1363.2586669921875, y: 908.7109375 },
         { x: 1341.2913818359375, y: 814.5213623046875 },
         { x: 1847.5904541015625, y: 1798.4091796875 },
         { x: 1789.3404541015625, y: 1630.259521484375 },
         { x: 1738.9361572265625, y: 1474.8021240234375 },
         { x: 1693.4326171875, y: 1337.8846435546875 },
         { x: 1652.61669921875, y: 1212.8389892578125 },
         { x: 1615.4693603515625, y: 1091.6376953125 },
         { x: 1581.0570068359375, y: 982.2247924804688 },
         { x: 1549.8458251953125, y: 886.2062377929688 },
         { x: 1521.4013671875, y: 797.3709716796875 },
         { x: 2103.793212890625, y: 1773.8955078125 },
         { x: 2033.1507568359375, y: 1601.971923828125 },
         { x: 1968.7786865234375, y: 1450.4444580078125 },
         { x: 1912.8736572265625, y: 1313.209716796875 },
         { x: 1861.52294921875, y: 1186.684326171875 },
         { x: 1815.44140625, y: 1069.2532958984375 },
         { x: 1772.845947265625, y: 963.2489013671875 },
         { x: 1734.53759765625, y: 869.5565795898438 },
         { x: 1698.8614501953125, y: 779.3163452148438 },
         { x: 2355.71533203125, y: 1734.0631103515625 },
         { x: 2271.99560546875, y: 1570.0284423828125 },
         { x: 2195.843017578125, y: 1418.3189697265625 },
         { x: 2128.399658203125, y: 1281.1435546875 },
         { x: 2067.613525390625, y: 1154.3983154296875 },
         { x: 2011.967529296875, y: 1044.3507080078125 },
         { x: 1961.36376953125, y: 943.4146118164062 },
         { x: 1915.465576171875, y: 850.3878784179688 },
         { x: 1873.3919677734375, y: 763.1994018554688 },
         { x: 2600.629638671875, y: 1695.7559814453125 },
         { x: 2505.977294921875, y: 1530.3433837890625 },
         { x: 2419.28466796875, y: 1389.371826171875 },
         { x: 2340.31396484375, y: 1257.59716796875 },
         { x: 2269.419921875, y: 1133.6925048828125 },
         { x: 2206.278564453125, y: 1023.7880859375 },
         { x: 2147.328857421875, y: 919.0904541015625 },
         { x: 2094.173583984375, y: 830.1319580078125 },
         { x: 2044.8958740234375, y: 744.7550659179688 } ],

       [ { x: 2793.552734375, y: 1572.2177734375 },
         { x: 2567.175048828125, y: 1560.7764892578125 },
         { x: 2339.545654296875, y: 1550.851806640625 },
         { x: 2112.1083984375, y: 1542.8773193359375 },
         { x: 1886.4786376953125, y: 1536.65234375 },
         { x: 1664.3104248046875, y: 1530.6129150390625 },
         { x: 1440.307861328125, y: 1522.990234375 },
         { x: 1219.322021484375, y: 1512.5626220703125 },
         { x: 997.8209838867188, y: 1503.7203369140625 },
         { x: 2758.46923828125, y: 1402.1580810546875 },
         { x: 2540.380859375, y: 1396.17822265625 },
         { x: 2321.712158203125, y: 1389.765869140625 },
         { x: 2104.1884765625, y: 1382.367431640625 },
         { x: 1888.837646484375, y: 1378.9398193359375 },
         { x: 1676.477294921875, y: 1374.1676025390625 },
         { x: 1462.5626220703125, y: 1366.4298095703125 },
         { x: 1251.7041015625, y: 1362.247802734375 },
         { x: 1040.36572265625, y: 1354.4110107421875 },
         { x: 2724.001708984375, y: 1251.709228515625 },
         { x: 2514.417724609375, y: 1251.3699951171875 },
         { x: 2304.88623046875, y: 1245.4737548828125 },
         { x: 2096.69091796875, y: 1242.7593994140625 },
         { x: 1890.731689453125, y: 1237.61962890625 },
         { x: 1687.51806640625, y: 1228.193603515625 },
         { x: 1482.5208740234375, y: 1221.294189453125 },
         { x: 1280.4053955078125, y: 1216.7784423828125 },
         { x: 1078.285888671875, y: 1212.449462890625 },
         { x: 2690.55712890625, y: 1123.95751953125 },
         { x: 2490.511962890625, y: 1117.70361328125 },
         { x: 2289.7421875, y: 1114.0919189453125 },
         { x: 2090.1337890625, y: 1109.08935546875 },
         { x: 1893.0074462890625, y: 1103.265869140625 },
         { x: 1697.79248046875, y: 1094.4097900390625 },
         { x: 1501.1595458984375, y: 1088.28515625 },
         { x: 1307.2796630859375, y: 1084.4014892578125 },
         { x: 1113.1025390625, y: 1077.9925537109375 },
         { x: 2661.73583984375, y: 994.4365844726562 },
         { x: 2469.4150390625, y: 990.9550170898438 },
         { x: 2276.576416015625, y: 985.4354858398438 },
         { x: 2085.332275390625, y: 979.2305297851562 },
         { x: 1895.3681640625, y: 971.2803344726562 },
         { x: 1707.0672607421875, y: 967.6317138671875 },
         { x: 1518.1754150390625, y: 964.2810668945312 },
         { x: 1330.9443359375, y: 960.3102416992188 },
         { x: 1144.868896484375, y: 954.5979614257812 },
         { x: 2635.382080078125, y: 874.9281616210938 },
         { x: 2450.995849609375, y: 867.86474609375 },
         { x: 2264.772705078125, y: 867.9755859375 },
         { x: 2079.962890625, y: 865.6578369140625 },
         { x: 1896.820556640625, y: 858.5845947265625 },
         { x: 1715.839111328125, y: 853.1397705078125 },
         { x: 1533.635986328125, y: 845.2944946289062 },
         { x: 1353.276611328125, y: 843.3362426757812 },
         { x: 1173.804931640625, y: 838.8408813476562 } ],

       [ { x: 891.7940063476562, y: 1596.386474609375 },
         { x: 998.999755859375, y: 1439.2471923828125 },
         { x: 1095.6240234375, y: 1297.4224853515625 },
         { x: 1185.25927734375, y: 1171.72607421875 },
         { x: 1266.9783935546875, y: 1058.7833251953125 },
         { x: 1340.7513427734375, y: 955.73583984375 },
         { x: 1410.1220703125, y: 858.1103515625 },
         { x: 1471.9195556640625, y: 764.6371459960938 },
         { x: 1531.4320068359375, y: 679.7897338867188 },
         { x: 1122.2869873046875, y: 1630.076904296875 },
         { x: 1220.8880615234375, y: 1474.03076171875 },
         { x: 1309.1016845703125, y: 1331.847900390625 },
         { x: 1389.3037109375, y: 1203.659912109375 },
         { x: 1462.303466796875, y: 1089.3602294921875 },
         { x: 1529.688720703125, y: 983.9357299804688 },
         { x: 1590.3031005859375, y: 882.8501586914062 },
         { x: 1647.4803466796875, y: 794.308837890625 },
         { x: 1699.1270751953125, y: 707.3346557617188 },
         { x: 1362.18994140625, y: 1673.8717041015625 },
         { x: 1448.75439453125, y: 1518.2777099609375 },
         { x: 1527.286865234375, y: 1372.61376953125 },
         { x: 1598.7628173828125, y: 1244.134033203125 },
         { x: 1662.5252685546875, y: 1124.94677734375 },
         { x: 1721.23388671875, y: 1010.9888305664062 },
         { x: 1775.90234375, y: 907.0803833007812 },
         { x: 1825.38916015625, y: 815.8934936523438 },
         { x: 1873.245361328125, y: 730.966552734375 },
         { x: 1611.174560546875, y: 1733.56298828125 },
         { x: 1685.5399169921875, y: 1565.4248046875 },
         { x: 1752.6961669921875, y: 1416.8304443359375 },
         { x: 1814.00341796875, y: 1281.62939453125 },
         { x: 1869.305419921875, y: 1157.0921630859375 },
         { x: 1920.1514892578125, y: 1040.9681396484375 },
         { x: 1966.0042724609375, y: 935.7808837890625 },
         { x: 2010.1038818359375, y: 842.7018432617188 },
         { x: 2049.14208984375, y: 753.1058349609375 },
         { x: 1867.288330078125, y: 1780.5111083984375 },
         { x: 1928.9541015625, y: 1609.9864501953125 },
         { x: 1985.084228515625, y: 1453.4954833984375 },
         { x: 2035.6583251953125, y: 1311.2354736328125 },
         { x: 2082.0283203125, y: 1181.0537109375 },
         { x: 2123.69140625, y: 1067.3426513671875 },
         { x: 2162.483642578125, y: 962.99169921875 },
         { x: 2198.137451171875, y: 867.1388549804688 },
         { x: 2231.211669921875, y: 776.7210083007812 },
         { x: 2134.45361328125, y: 1833.221923828125 },
         { x: 2182.60986328125, y: 1649.243408203125 },
         { x: 2225.509521484375, y: 1495.0531005859375 },
         { x: 2264.681396484375, y: 1352.056396484375 },
         { x: 2300.55322265625, y: 1218.7596435546875 },
         { x: 2334.10302734375, y: 1098.931396484375 },
         { x: 2364.710693359375, y: 986.5078125 },
         { x: 2392.50927734375, y: 890.1197509765625 },
         { x: 2418.281494140625, y: 798.7509765625 } ],

       [ { x: 770.0175170898438, y: 893.8750610351562 },
         { x: 970.7296142578125, y: 875.3201293945312 },
         { x: 1171.67626953125, y: 857.5036010742188 },
         { x: 1370.937744140625, y: 844.2607421875 },
         { x: 1567.655029296875, y: 832.3455810546875 },
         { x: 1760.88525390625, y: 819.489990234375 },
         { x: 1954.4227294921875, y: 805.971435546875 },
         { x: 2145.55126953125, y: 789.1619873046875 },
         { x: 2334.8828125, y: 774.5310668945312 },
         { x: 753.152587890625, y: 995.6380004882812 },
         { x: 965.3947143554688, y: 980.3237915039062 },
         { x: 1176.035888671875, y: 965.9398803710938 },
         { x: 1382.9346923828125, y: 950.9251098632812 },
         { x: 1588.4664306640625, y: 940.56591796875 },
         { x: 1789.5574951171875, y: 928.4449462890625 },
         { x: 1992.0406494140625, y: 912.1273193359375 },
         { x: 2189.60888671875, y: 900.7567138671875 },
         { x: 2387.260498046875, y: 885.2779541015625 },
         { x: 736.7200927734375, y: 1115.8016357421875 },
         { x: 959.7625122070312, y: 1105.5048828125 },
         { x: 1180.5877685546875, y: 1089.7625732421875 },
         { x: 1396.996826171875, y: 1076.9788818359375 },
         { x: 1611.2783203125, y: 1063.0848388671875 },
         { x: 1821.4302978515625, y: 1042.7867431640625 },
         { x: 2032.428466796875, y: 1025.052490234375 },
         { x: 2239.566650390625, y: 1011.3369750976562 },
         { x: 2445.212890625, y: 998.5519409179688 },
         { x: 721.1033935546875, y: 1262.697021484375 },
         { x: 953.9590454101562, y: 1243.4971923828125 },
         { x: 1184.4041748046875, y: 1226.5927734375 },
         { x: 1412.0408935546875, y: 1210.5296630859375 },
         { x: 1635.9686279296875, y: 1191.192626953125 },
         { x: 1856.25927734375, y: 1170.0501708984375 },
         { x: 2076.9931640625, y: 1152.0513916015625 },
         { x: 2293.87890625, y: 1138.3050537109375 },
         { x: 2508.820556640625, y: 1120.639892578125 },
         { x: 700.4076538085938, y: 1407.604736328125 },
         { x: 945.6847534179688, y: 1388.95849609375 },
         { x: 1188.4375, y: 1367.491943359375 },
         { x: 1427.4140625, y: 1345.0408935546875 },
         { x: 1663.032470703125, y: 1321.6170654296875 },
         { x: 1894.8580322265625, y: 1303.6138916015625 },
         { x: 2126.412109375, y: 1288.4493408203125 },
         { x: 2353.6064453125, y: 1272.4952392578125 },
         { x: 2578.870361328125, y: 1255.0418701171875 },
         { x: 678.1823120117188, y: 1571.2781982421875 },
         { x: 935.7523803710938, y: 1544.1568603515625 },
         { x: 1192.6407470703125, y: 1526.689208984375 },
         { x: 1445.314453125, y: 1505.615966796875 },
         { x: 1693.24853515625, y: 1479.339111328125 },
         { x: 1937.213134765625, y: 1457.874267578125 },
         { x: 2181.317626953125, y: 1434.1253662109375 },
         { x: 2421.121337890625, y: 1419.6962890625 },
         { x: 2656.492431640625, y: 1400.3267822265625 } ],

       [ { x: 1414.519775390625, y: 629.9998168945312 },
         { x: 1540.7523193359375, y: 672.3776245117188 },
         { x: 1673.3662109375, y: 717.5680541992188 },
         { x: 1812.2508544921875, y: 768.5986938476562 },
         { x: 1958.5819091796875, y: 823.864501953125 },
         { x: 2111.85400390625, y: 881.2939453125 },
         { x: 2275.787353515625, y: 940.3433227539062 },
         { x: 2448.3017578125, y: 999.0980834960938 },
         { x: 2631.060546875, y: 1063.3104248046875 },
         { x: 1301.0565185546875, y: 688.04150390625 },
         { x: 1428.45947265625, y: 738.1203002929688 },
         { x: 1562.8682861328125, y: 789.6273803710938 },
         { x: 1703.1358642578125, y: 844.024169921875 },
         { x: 1850.8843994140625, y: 904.8860473632812 },
         { x: 2006.161865234375, y: 966.1798095703125 },
         { x: 2172.185791015625, y: 1028.7850341796875 },
         { x: 2346.749755859375, y: 1098.244873046875 },
         { x: 2533.703125, y: 1167.7698974609375 },
         { x: 1181.10400390625, y: 757.2408447265625 },
         { x: 1309.8040771484375, y: 814.8851318359375 },
         { x: 1444.781005859375, y: 870.048095703125 },
         { x: 1587.1068115234375, y: 931.71240234375 },
         { x: 1736.2098388671875, y: 994.4944458007812 },
         { x: 1892.84716796875, y: 1054.423095703125 },
         { x: 2062.100830078125, y: 1120.7171630859375 },
         { x: 2239.32666015625, y: 1195.2764892578125 },
         { x: 2428.28271484375, y: 1273.9072265625 },
         { x: 1054.5565185546875, y: 841.9755859375 },
         { x: 1183.3382568359375, y: 896.6300048828125 },
         { x: 1319.6932373046875, y: 957.2489624023438 },
         { x: 1463.1827392578125, y: 1020.0863037109375 },
         { x: 1613.7835693359375, y: 1085.54931640625 },
         { x: 1772.55712890625, y: 1150.3465576171875 },
         { x: 1942.4576416015625, y: 1224.2860107421875 },
         { x: 2122.682861328125, y: 1304.0166015625 },
         { x: 2315.057373046875, y: 1386.5159912109375 },
         { x: 918.2044067382812, y: 919.0390625 },
         { x: 1048.2371826171875, y: 979.7472534179688 },
         { x: 1185.5042724609375, y: 1041.9151611328125 },
         { x: 1330.007080078125, y: 1106.4102783203125 },
         { x: 1482.3538818359375, y: 1173.1307373046875 },
         { x: 1643.4356689453125, y: 1249.1102294921875 },
         { x: 1815.9168701171875, y: 1330.9814453125 },
         { x: 1998.5472412109375, y: 1417.4859619140625 },
         { x: 2194.19970703125, y: 1508.57080078125 },
         { x: 773.2593383789062, y: 1003.0681762695312 },
         { x: 902.715576171875, y: 1063.1605224609375 },
         { x: 1041.6502685546875, y: 1135.9251708984375 },
         { x: 1188.6328125, y: 1209.7493896484375 },
         { x: 1341.7015380859375, y: 1281.3470458984375 },
         { x: 1504.2960205078125, y: 1360.59326171875 },
         { x: 1678.3680419921875, y: 1443.8011474609375 },
         { x: 1864.114013671875, y: 1539.4515380859375 },
         { x: 2059.837158203125, y: 1637.6448974609375 } ],

       [ { x: 2206.31640625, y: 645.3056640625 },
         { x: 2236.208984375, y: 727.6634521484375 },
         { x: 2268.19677734375, y: 817.866455078125 },
         { x: 2302.44775390625, y: 919.9320068359375 },
         { x: 2339.293212890625, y: 1032.244140625 },
         { x: 2380.251220703125, y: 1154.5843505859375 },
         { x: 2425.10400390625, y: 1287.5107421875 },
         { x: 2475.21923828125, y: 1428.7362060546875 },
         { x: 2530.514404296875, y: 1588.0272216796875 },
         { x: 2033.6546630859375, y: 645.8017578125 },
         { x: 2055.807373046875, y: 733.3457641601562 },
         { x: 2080.389892578125, y: 827.1810913085938 },
         { x: 2107.271240234375, y: 929.0979614257812 },
         { x: 2135.37060546875, y: 1044.5816650390625 },
         { x: 2166.17236328125, y: 1166.4251708984375 },
         { x: 2200.70654296875, y: 1298.798095703125 },
         { x: 2238.430908203125, y: 1447.624267578125 },
         { x: 2281.205810546875, y: 1608.74560546875 },
         { x: 1860.2586669921875, y: 652.713623046875 },
         { x: 1876.1268310546875, y: 744.9656372070312 },
         { x: 1893.308349609375, y: 839.465576171875 },
         { x: 1911.2864990234375, y: 945.724365234375 },
         { x: 1931.5252685546875, y: 1058.6861572265625 },
         { x: 1953.271240234375, y: 1175.580810546875 },
         { x: 1977.266357421875, y: 1307.6171875 },
         { x: 2003.159912109375, y: 1456.6036376953125 },
         { x: 2032.6083984375, y: 1621.3590087890625 },
         { x: 1686.21044921875, y: 669.9088134765625 },
         { x: 1695.409423828125, y: 756.575927734375 },
         { x: 1704.9052734375, y: 852.7786865234375 },
         { x: 1715.2242431640625, y: 957.002197265625 },
         { x: 1726.604248046875, y: 1068.8719482421875 },
         { x: 1739.320556640625, y: 1186.7288818359375 },
         { x: 1752.5650634765625, y: 1321.3189697265625 },
         { x: 1766.8656005859375, y: 1470.6217041015625 },
         { x: 1783.041259765625, y: 1632.3924560546875 },
         { x: 1512.2939453125, y: 675.5206909179688 },
         { x: 1514.797607421875, y: 765.0741577148438 },
         { x: 1517.3193359375, y: 859.9759521484375 },
         { x: 1519.6343994140625, y: 961.8099365234375 },
         { x: 1522.3255615234375, y: 1070.6080322265625 },
         { x: 1525.189453125, y: 1194.92333984375 },
         { x: 1528.1217041015625, y: 1333.08154296875 },
         { x: 1531.51611328125, y: 1482.636962890625 },
         { x: 1534.5628662109375, y: 1646.4197998046875 },
         { x: 1337.2413330078125, y: 682.2617797851562 },
         { x: 1332.792724609375, y: 768.5634765625 },
         { x: 1328.335693359375, y: 869.2713012695312 },
         { x: 1323.4698486328125, y: 975.8978881835938 },
         { x: 1317.3734130859375, y: 1085.4022216796875 },
         { x: 1310.5987548828125, y: 1208.883056640625 },
         { x: 1302.1885986328125, y: 1340.9693603515625 },
         { x: 1293.89990234375, y: 1494.4202880859375 },
         { x: 1284.2947998046875, y: 1659.98388671875 } ],

       [ { x: 2503.42236328125, y: 1034.8145751953125 },
         { x: 2395.537109375, y: 1132.03271484375 },
         { x: 2285.719970703125, y: 1230.9268798828125 },
         { x: 2173.38671875, y: 1331.693115234375 },
         { x: 2060.586669921875, y: 1433.2637939453125 },
         { x: 1947.370361328125, y: 1535.04296875 },
         { x: 1832.7393798828125, y: 1638.673828125 },
         { x: 1717.5704345703125, y: 1742.1217041015625 },
         { x: 1600.384521484375, y: 1848.632080078125 },
         { x: 2400.908203125, y: 922.5762329101562 },
         { x: 2290.896728515625, y: 1020.601806640625 },
         { x: 2180.38134765625, y: 1119.4434814453125 },
         { x: 2068.47265625, y: 1220.234130859375 },
         { x: 1955.6839599609375, y: 1319.3177490234375 },
         { x: 1843.114013671875, y: 1420.029296875 },
         { x: 1728.3580322265625, y: 1522.0601806640625 },
         { x: 1613.3995361328125, y: 1625.5230712890625 },
         { x: 1497.36474609375, y: 1728.9454345703125 },
         { x: 2297.251708984375, y: 813.124755859375 },
         { x: 2187.285400390625, y: 910.8671875 },
         { x: 2076.66259765625, y: 1008.8851928710938 },
         { x: 1964.7447509765625, y: 1107.9273681640625 },
         { x: 1852.2894287109375, y: 1208.4957275390625 },
         { x: 1740.3809814453125, y: 1306.156005859375 },
         { x: 1625.54541015625, y: 1407.5926513671875 },
         { x: 1510.791748046875, y: 1509.08203125 },
         { x: 1394.11083984375, y: 1612.805419921875 },
         { x: 2193.4150390625, y: 706.2191162109375 },
         { x: 2084.147705078125, y: 802.1588745117188 },
         { x: 1973.682861328125, y: 899.5328979492188 },
         { x: 1862.395751953125, y: 997.1991577148438 },
         { x: 1750.3070068359375, y: 1095.4375 },
         { x: 1637.598876953125, y: 1193.90380859375 },
         { x: 1523.4071044921875, y: 1294.0032958984375 },
         { x: 1408.274169921875, y: 1395.3170166015625 },
         { x: 1292.3697509765625, y: 1496.385498046875 },
         { x: 2092.470703125, y: 598.359375 },
         { x: 1983.236572265625, y: 693.0202026367188 },
         { x: 1872.707275390625, y: 789.1581420898438 },
         { x: 1761.4200439453125, y: 885.9664916992188 },
         { x: 1649.11962890625, y: 982.84033203125 },
         { x: 1536.6744384765625, y: 1081.267822265625 },
         { x: 1422.1214599609375, y: 1181.378173828125 },
         { x: 1307.31298828125, y: 1281.4112548828125 },
         { x: 1191.00341796875, y: 1382.302978515625 },
         { x: 1992.1173095703125, y: 489.35028076171875 },
         { x: 1882.7763671875, y: 583.5126953125 },
         { x: 1772.5299072265625, y: 679.9799194335938 },
         { x: 1660.5762939453125, y: 777.2127685546875 },
         { x: 1549.0052490234375, y: 873.1452026367188 },
         { x: 1436.1263427734375, y: 970.2396850585938 },
         { x: 1321.2718505859375, y: 1068.3604736328125 },
         { x: 1206.591064453125, y: 1168.3330078125 },
         { x: 1090.16064453125, y: 1267.9437255859375 } ],

       [ { x: 2598.407958984375, y: 1627.4014892578125 },
         { x: 2423.23583984375, y: 1635.404541015625 },
         { x: 2247.376953125, y: 1643.742919921875 },
         { x: 2067.0888671875, y: 1650.532470703125 },
         { x: 1887.6029052734375, y: 1658.2459716796875 },
         { x: 1706.0833740234375, y: 1665.3116455078125 },
         { x: 1524.195068359375, y: 1673.1258544921875 },
         { x: 1339.7947998046875, y: 1681.4681396484375 },
         { x: 1154.334228515625, y: 1690.144775390625 },
         { x: 2588.67041015625, y: 1447.73583984375 },
         { x: 2414.219970703125, y: 1454.967529296875 },
         { x: 2236.121337890625, y: 1461.76953125 },
         { x: 2057.6884765625, y: 1468.6986083984375 },
         { x: 1877.6129150390625, y: 1475.380126953125 },
         { x: 1698.782958984375, y: 1482.489501953125 },
         { x: 1515.8436279296875, y: 1489.55615234375 },
         { x: 1333.7808837890625, y: 1497.2420654296875 },
         { x: 1148.75390625, y: 1504.2730712890625 },
         { x: 2579.125, y: 1269.573486328125 },
         { x: 2401.119140625, y: 1276.31201171875 },
         { x: 2225.35888671875, y: 1282.6148681640625 },
         { x: 2046.5472412109375, y: 1289.2601318359375 },
         { x: 1868.7276611328125, y: 1295.4300537109375 },
         { x: 1690.386962890625, y: 1301.324462890625 },
         { x: 1509.09130859375, y: 1308.03857421875 },
         { x: 1326.9901123046875, y: 1314.24658203125 },
         { x: 1143.3017578125, y: 1321.31298828125 },
         { x: 2564.189697265625, y: 1092.428466796875 },
         { x: 2390.45361328125, y: 1098.45263671875 },
         { x: 2213.893798828125, y: 1104.7327880859375 },
         { x: 2037.485595703125, y: 1110.6094970703125 },
         { x: 1859.260498046875, y: 1116.1671142578125 },
         { x: 1682.2886962890625, y: 1121.576171875 },
         { x: 1501.4376220703125, y: 1127.632568359375 },
         { x: 1320.3621826171875, y: 1132.9454345703125 },
         { x: 1137.210693359375, y: 1138.9898681640625 },
         { x: 2554.5205078125, y: 916.1780395507812 },
         { x: 2380.462890625, y: 921.8939819335938 },
         { x: 2205.715576171875, y: 926.5466918945312 },
         { x: 2029.1695556640625, y: 932.6325073242188 },
         { x: 1851.8201904296875, y: 936.8984375 },
         { x: 1674.7340087890625, y: 943.163818359375 },
         { x: 1493.8502197265625, y: 947.9035034179688 },
         { x: 1313.5693359375, y: 954.1334838867188 },
         { x: 1131.197265625, y: 957.8931274414062 },
         { x: 2545.436279296875, y: 740.3888549804688 },
         { x: 2372.81005859375, y: 744.6785278320312 },
         { x: 2196.773681640625, y: 751.1812744140625 },
         { x: 2019.8621826171875, y: 755.1093139648438 },
         { x: 1843.6505126953125, y: 760.2844848632812 },
         { x: 1666.31201171875, y: 763.9044799804688 },
         { x: 1487.0233154296875, y: 768.289794921875 },
         { x: 1306.244384765625, y: 772.625732421875 },
         { x: 1125.0694580078125, y: 778.1206665039062 } ]
    ];

    cv.calibrateCamera(inputCorners, 9, 6, 0, 1280, 720, function(error, result) {
        console.log(result);
    });

}

